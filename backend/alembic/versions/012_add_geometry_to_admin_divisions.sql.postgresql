-- 012: 添加 geometry 字段到 admin_divisions 表 (PostgreSQL 版本)
--
-- 为 AdminDivision 模型添加 geometry 字段，用于存储 GeoJSON 格式的多边形数据。
-- 支持使用 shapely 库进行精确的多边形包含判断。

ALTER TABLE admin_divisions
    ADD COLUMN geometry TEXT NULL;

-- 添加注释
COMMENT ON COLUMN admin_divisions.geometry IS 'GeoJSON 多边形几何（用于 shapely 精确判断）';

-- 创建索引（可选，如果需要按 geometry 是否为空查询）
-- CREATE INDEX idx_admin_divisions_has_geometry ON admin_divisions(geometry) WHERE geometry IS NOT NULL;
